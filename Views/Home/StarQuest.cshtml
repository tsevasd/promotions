@{
    const string imgUrl = "/img/prizes/starquest";
    const string cb = "?cb=1";
    //string drawUrl = Url.RouteUrl("StarQuestApp_Play_Draw");
}
<style>
    .play {
        background-color: #000;
        height: 800px;
        overflow: hidden;
        position: relative;
        text-align: center;
        width: 100%;
    }

    .play img {
        max-width: none;
    }

    .play .load-me {
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 800px;
        display: flex;
        flex-direction: column;
        align-items: center;
        justify-content: center;
        transition: all .4s;
        z-index: 99;
    }

    .load-me .logo {
        margin-bottom: 20px;
    }

    .load-me .gif {
        width: 240px;
    }

    .play.loaded .load-me {
        opacity: 0;
        visibility: hidden;
    }

    .insetall {
        bottom: 0;
        height: 100%;
        left: 0;
        position: absolute;
        right: 0;
        top: 0;
        width: 100%;
    }

    .centerxy {
        -webkit-transform: translate(-50%, -50%);
        -moz-transform: translate(-50%, -50%);
        -ms-transform: translate(-50%, -50%);
        -o-transform: translate(-50%, -50%);
        transform: translate(-50%, -50%);
        position: absolute;
        top: 50%;
        left: 50%;
    }

    .fullscr {
        min-width: 100%;
        min-height: 100%;
        width: auto;
        height: auto;
    }

    .bg {
        opacity: 0;
        transition: all 1s;
        z-index: 1;
    }

    .loaded .bg {
        opacity: 1;
    }


    .v-container {
        opacity: 0;
        transition: all 1s;
        z-index: 2;
    }

    .start .v-container {
        opacity: 1;
    }

    .startravel {
        left: 50%;
        top: 50%;
        transition: all 2s ease 1.5s;
        max-width: none;
        transform: translate(-50%, -50%);
        position: absolute;
        right: 0;
        bottom: 0;
        min-width: 100%;
        min-height: 100%;
        width: auto;
        height: auto;
        z-index: 1;
        background-size: cover;
        overflow: hidden;
    }

    .loaded .startravel {
        opacity: 0;
    }

    .stars {
        z-index: 2;
    }

    .star {
        opacity: 0;
        position: absolute;
        left: 50%;
        top: 50%;
        margin-left: -45px;
        margin-top: -45px;
    }

    .star-1 {
        transform: translate(-550px, -350px) rotate(360deg) scale(1);
        z-index: 11;
    }

    .loaded .star-1 {
        animation: star1 4s normal forwards;
    }

    .star-2 {
        transform: translate(550px, -280px) rotate(360deg) scale(1);
        z-index: 12;
    }

    .loaded .star-2 {
        animation: star2 4s normal forwards;
    }

    .star-3 {
        transform: translate(-720px, -30px) rotate(360deg) scale(1);
        z-index: 13;
    }

    .loaded .star-3 {
        animation: star3 4s normal forwards;
    }

    .star-4 {
        transform: translate(700px, -70px) rotate(360deg) scale(1);
        z-index: 14;
    }

    .loaded .star-4 {
        animation: star4 4s normal forwards;
    }

    .star-5 {
        transform: translate(-600px, -220px) rotate(360deg) scale(1);
        z-index: 15;
    }

    .loaded .star-5 {
        animation: star5 4s normal forwards;
    }

    @@keyframes star1 {
        0% {
            opacity: 0;
            transform: translate(-100px, -50px) rotate(0deg) scale(1.5);
        }

        25% {
            opacity: 1;
            transform: translate(0px, 0px) rotate(360deg) scale(1.5);
        }

        50% {
            opacity: 1;
            transform: translate(0px, -20px) rotate(0deg) scale(1);
        }

        100% {
            opacity: 1;
            transform: translate(-550px, -350px) rotate(360deg) scale(1);
        }
    }

    @@keyframes star2 {
        0% {
            opacity: 0;
            transform: translate(100px, -50px) rotate(0deg) scale(1.5);
        }

        25% {
            opacity: 1;
            transform: translate(0px, 0px) rotate(360deg) scale(1.5);
        }

        50% {
            opacity: 1;
            transform: translate(0px, -20px) rotate(0deg) scale(1);
        }

        100% {
            opacity: 1;
            transform: translate(550px, -280px) rotate(360deg) scale(1);
        }
    }

    @@keyframes star3 {
        0% {
            opacity: 0;
            transform: translate(-200px, 70px) rotate(0deg) scale(1.5);
        }

        25% {
            opacity: 1;
            transform: translate(0px, 0px) rotate(360deg) scale(1.5);
        }

        50% {
            opacity: 1;
            transform: translate(0px, -20px) rotate(0deg) scale(1);
        }

        100% {
            opacity: 1;
            transform: translate(-720px, -30px) rotate(360deg) scale(1);
        }
    }

    @@keyframes star4 {
        0% {
            opacity: 0;
            transform: translate(200px, 70px) rotate(0deg) scale(1.5);
        }

        25% {
            opacity: 1;
            transform: translate(0px, 0px) rotate(360deg) scale(1.5);
        }

        50% {
            opacity: 1;
            transform: translate(0px, -20px) rotate(0deg) scale(1);
        }

        100% {
            opacity: 1;
            transform: translate(700px, -70px) rotate(360deg) scale(1);
        }
    }

    @@keyframes star5 {
        0% {
            opacity: 0;
            transform: translate(-150px, 20px) rotate(0deg) scale(1.5);
        }

        25% {
            opacity: 1;
            transform: translate(0px, 0px) rotate(360deg) scale(1.5);
        }

        50% {
            opacity: 1;
            transform: translate(0px, -20px) rotate(0deg) scale(1);
        }

        100% {
            opacity: 1;
            transform: translate(-600px, -220px) rotate(360deg) scale(1);
        }
    }

    @@keyframes star1sm {
        0% {
            opacity: 0;
            transform: translate(-100px, -50px) rotate(0deg) scale(1.5);
        }

        25% {
            opacity: 1;
            transform: translate(0px, 0px) rotate(360deg) scale(1.5);
        }

        50% {
            opacity: 1;
            transform: translate(0px, -20px) rotate(0deg) scale(1);
        }

        100% {
            opacity: 1;
            transform: translate(-280px, -290px) rotate(360deg) scale(1);
        }
    }

    @@keyframes star2sm {
        0% {
            opacity: 0;
            transform: translate(100px, -50px) rotate(0deg) scale(1.5);
        }

        25% {
            opacity: 1;
            transform: translate(0px, 0px) rotate(360deg) scale(1.5);
        }

        50% {
            opacity: 1;
            transform: translate(0px, -20px) rotate(0deg) scale(1);
        }

        100% {
            opacity: 1;
            transform: translate(290px, -240px) rotate(360deg) scale(1);
        }
    }

    @@keyframes star3sm {
        0% {
            opacity: 0;
            transform: translate(-200px, 70px) rotate(0deg) scale(1.5);
        }

        25% {
            opacity: 1;
            transform: translate(0px, 0px) rotate(360deg) scale(1.5);
        }

        50% {
            opacity: 1;
            transform: translate(0px, -20px) rotate(0deg) scale(1);
        }

        100% {
            opacity: 1;
            transform: translate(-340px, -70px) rotate(360deg) scale(1);
        }
    }

    @@keyframes star4sm {
        0% {
            opacity: 0;
            transform: translate(200px, 70px) rotate(0deg) scale(1.5);
        }

        25% {
            opacity: 1;
            transform: translate(0px, 0px) rotate(360deg) scale(1.5);
        }

        50% {
            opacity: 1;
            transform: translate(0px, -20px) rotate(0deg) scale(1);
        }

        100% {
            opacity: 1;
            transform: translate(340px, -70px) rotate(360deg) scale(1);
        }
    }

    @@keyframes star5sm {
        0% {
            opacity: 0;
            transform: translate(-150px, 20px) rotate(0deg) scale(1.5);
        }

        25% {
            opacity: 1;
            transform: translate(0px, 0px) rotate(360deg) scale(1.5);
        }

        50% {
            opacity: 1;
            transform: translate(0px, -20px) rotate(0deg) scale(1);
        }

        100% {
            opacity: 1;
            transform: translate(-220px, -180px) rotate(360deg) scale(1);
        }
    }

    .planet {
        left: 50%;
        margin-left: -497px;
        opacity: 0;
        position: absolute;
        top: 417px;
        transition: opacity 1s ease 2s, top 1.8s ease 2.7s;
        z-index: 3;
    }

    .loaded .planet {
        opacity: 1;
        top: 28px;
    }

    .mountains {
        left: 50%;
        margin-left: -960px;
        opacity: 0;
        position: absolute;
        top: 660px;
        transition: opacity 1s ease 2.5s, top 1.5s ease 2.5s;
        z-index: 4;
    }

    .loaded .mountains {
        opacity: 1;
        top: 347px;
    }

    .starquest {
        filter: brightness(0%) invert(1);
        opacity: 0;
        position: absolute;
        top: 40px;
        left: 50%;
        margin-left: -235px;
        transition: opacity .3s ease 3.85s, filter .5s ease 4s;
        width: 470px;
        z-index: 5;
    }

    .loaded .starquest {
        filter: brightness(100%) invert(0);
        opacity: 1;
    }

    .betshop {
        opacity: 0;
        position: absolute;
        top: 248px;
        left: 50%;
        margin-left: 48px;
        transition: opacity .5s ease 4.5s;
        width: 130px;
        z-index: 5;
    }

    .loaded .betshop {
        opacity: 1;
    }

    .helmets {
        display: inline-flex;
        gap: 20px;
        margin: 293px auto 0;
        opacity: 0;
        position: relative;
        transform: translateY(50px);
        transition: all 1s ease 4s;
        z-index: 6;
    }

    .loaded .helmets {
        animation: gravity 6s ease 6s infinite;
        opacity: 1;
        transform: translateY(0px);
    }

    @@keyframes gravity {

        0%,
        100% {
            transform: translateY(0px);
        }

        50% {
            transform: translateY(-16px);
        }
    }



    .helmet {
        cursor: pointer;
        display: block;
        height: 475px;
        position: relative;
        transition: all .3s;
        width: 426px;
    }

    .helmet .img {
        animation: dissolveFront 3s ease infinite 6s;
        position: relative;
        z-index: 3;
    }

    .helmet .dissolve {
        animation: dissolveBack 3s ease infinite 6s;
        opacity: 0;
        position: absolute;
        top: 0px;
        z-index: 2;
    }

    .press-me {
        background-color: rgba(255, 255, 255, .2);
        border-radius: 426px;
        height: 426px;
        opacity: 0;
        position: absolute;
        top: 24px;
        transition: all .3s;
        width: 426px;
        z-index: 1;
    }

    @@keyframes dissolveFront {

        0%,
        72%,
        100% {
            opacity: 1;
        }

        84%,
        92% {
            opacity: 0;
        }
    }

    @@keyframes dissolveBack {

        0%,
        72% {
            opacity: 0;
        }

        80%,
        84%,
        88%,
        92% {
            opacity: 1;
        }

        82%,
        86%,
        90% {
            opacity: 0;
        }
    }

    @@keyframes pulse {

        0%,
        20%,
        80%,
        100% {
            opacity: 1;
        }

        40%,
        60% {
            opacity: 0;
        }
    }

    .no-touch .helmet:hover .press-me,
    .helmet:active .press-me {
        background-color: rgba(125, 255, 255, .25);
        animation: none !important;
        opacity: 1;
    }

    .helmet-1 .press-me {
        animation: press 6s ease 1s infinite
    }

    .helmet-2 .press-me {
        animation: press 6s ease 1.5s infinite
    }

    .helmet-3 .press-me {
        animation: press 6s ease 2s infinite
    }

    @@keyframes press {

        0%,
        6%,
        12%,
        100% {
            opacity: 0;
        }

        3% {
            opacity: .5;
        }

        9% {
            opacity: 1;
        }
    }

    .play.fetching .helmet {
        opacity: 0;
        pointer-events: none;
    }

    .play.fetching .helmet.selected {
        opacity: 1;
    }

    .play.fetching .helmet.selected .img,
    .play.fetching .helmet.selected .press-me {
        animation: none;
        opacity: 0;
    }

    .play.fetching .helmet.selected .dissolve {
        animation: pulse .2s infinite;
    }

    .play.fetching.fetched .helmet.selected .dissolve {
        animation: none;
        opacity: 0;
    }

    .play.fetching .planet,
    .play.fetching .mountains {
        transition: all .5s;
    }

    .play.fetched .planet,
    .play.fetched .mountains {
        top: 800px;
    }

    .loaded.fetching .star {
        animation: none;
        opacity: 1;
    }

    .loaded.fetched .star-1 {
        animation: star1 2s reverse forwards;
    }

    .loaded.fetched .star-2 {
        animation: star2 2s reverse forwards;
    }

    .loaded.fetched .star-3 {
        animation: star3 2s reverse forwards;
    }

    .loaded.fetched .star-4 {
        animation: star4 2s reverse forwards;
    }

    .loaded.fetched .star-5 {
        animation: star5 2s reverse forwards;
    }

    .fetched .starquest {
        top: 10px;
    }

    .fetched .betshop {
        top: 218px;
    }

    .fetched .bg {
        opacity: .5;
    }

    .win-scr {
        opacity: 0;
        padding-top: 260px;
        position: absolute;
        left: 0;
        top: 0;
        right: 0;
        bottom: 0;
        height: 100%;
        width: 100%;
        text-align: center;
        transition: all .5s;
        visibility: hidden;
        z-index: 12;
    }

    .fetched .win-scr {
        opacity: 1;
        visibility: visible;
    }

    .win-scr .title {
        color: #189dd8;
        font-size: 60px;
        font-weight: bold;
        margin-bottom: 10px;
    }

    .win-scr.lost .title {
        color: #777;
        margin-bottom: 20px;
    }

    .win-scr .img {
        display: inline-block;
        max-height: 160px;
    }

    .win-scr .text {
        color: #fff;
        font-size: 28px;
        margin-bottom: 20px;
    }

    .win-scr .button {
        background-color: #ffdd00;
        border-bottom: 4px solid #ebcc00;
        border-radius: 160px;
        color: #002248;
        display: inline-block;
        font-size: 48px;
        font-weight: bold;
        margin: 0 auto;
        padding: 18px 80px 18px;
    }

    .win-scr .link {
        cursor: pointer;
        display: block;
        position: absolute;
        top: 0;
        right: 0;
        bottom: 0;
        left: 0;
        z-index: 9;
    }

    .win-scr.login,
    .win-scr.expired {
        padding-top: 360px;
    }

    .win-scr.login .title,
    .win-scr.login .img,
    .win-scr.lost .img,
    .win-scr.expired .img {
        display: none;
    }

    .win-scr.login .text {
        margin-bottom: 40px;
    }

    @@media screen and (min-width:769px) and (max-width:1366px) {
        .play {
            height: 600px;
        }

        .play .screen-sm {
            position: absolute;
            height: 133.333%;
            width: 133.333%;
            transform: scale(.75) translate(-16.666%, -16.666%);
        }
    }

    @@media screen and (min-width: 769px) and (max-width: 1023px) {
        .helmets-outer {
            left: 50%;
            position: relative;
            top: 0;
            transform: scale(.8) translateX(-63%);
            width: 200%;
            z-index: 6;
        }
    }

    @@media screen and (max-width:768px) {
        .play {
            height: 400px;
        }

        .play .screen-sm {
            position: absolute;
            height: 200%;
            width: 200%;
            transform: scale(.5) translate(-50%, -50%);
        }

        .planet {
            transform: scale(.7);
        }

        .loaded .planet {
            top: 130px;
        }

        .mountains {
            transform: scale(.7);
        }

        .stars {
            /*transform: scale(.75);*/
            z-index: 4;
        }

        .star-1 {
            transform: translate(-280px, -290px) rotate(360deg) scale(1);
            z-index: 11;
        }

        .loaded .star-1 {
            animation: star1sm 4s normal forwards;
        }

        .star-2 {
            transform: translate(290px, -240px) rotate(360deg) scale(1);
            z-index: 12;
        }

        .loaded .star-2 {
            animation: star2sm 4s normal forwards;
        }

        .star-3 {
            transform: translate(-340px, -70px) rotate(360deg) scale(1);
            z-index: 13;
        }

        .loaded .star-3 {
            animation: star3sm 4s normal forwards;
        }

        .star-4 {
            transform: translate(340px, -70px) rotate(360deg) scale(1);
            z-index: 14;
        }

        .loaded .star-4 {
            animation: star4sm 4s normal forwards;
        }

        .star-5 {
            transform: translate(-220px, -180px) rotate(360deg) scale(1);
            z-index: 15;
        }

        .loaded .star-5 {
            animation: star5sm 4s normal forwards;
        }

        .loaded.fetched .star-1 {
            animation: star1sm 2s reverse forwards;
        }

        .loaded.fetched .star-2 {
            animation: star2sm 2s reverse forwards;
        }

        .loaded.fetched .star-3 {
            animation: star3sm 2s reverse forwards;
        }

        .loaded.fetched .star-4 {
            animation: star4sm 2s reverse forwards;
        }

        .loaded.fetched .star-5 {
            animation: star5sm 2s reverse forwards;
        }

        .helmets {
            gap: 5px;
            margin-top: 400px;
        }

        .helmet {
            width: 230px;
        }

        .press-me {
            height: 230px;
            top: 15px;
            width: 230px;
        }

        .helmet img {
            max-width: 100%;
        }
    }
</style>
<div class="play" id="play">
    <div class="screen-sm">
        <div class="load-me">
            <img class="logo" src="@(imgUrl)/betshop.webp@(cb)" />
            <img class="gif" src="@(imgUrl)/loader.gif@(cb)" />
        </div>
        <div class="v-container insetall">
            <video class="startravel" id="startravel" muted loop autoplay>
                <source src="@(imgUrl)/startravel.mp4@(cb)" type="video/mp4">
                <img src="@(imgUrl)/videostill.webp@(cb)" />
            </video>
        </div>
        <div class="stars insetall">
            <img class="star star-1" src="@(imgUrl)/star_orange.webp@(cb)" />
            <img class="star star-2" src="@(imgUrl)/star_orange.webp@(cb)" />
            <img class="star star-3" src="@(imgUrl)/star_magenta.webp@(cb)" />
            <img class="star star-4" src="@(imgUrl)/star_magenta.webp@(cb)" />
            <img class="star star-5" src="@(imgUrl)/star_white.webp@(cb)" />
        </div>
        <img class="bg centerxy fullscr" src="@(imgUrl)/space.webp@(cb)" />
        <img class="planet" src="@(imgUrl)/planet.webp@(cb)" />
        <img class="mountains" src="@(imgUrl)/mountains.webp@(cb)" />
        <img class="starquest" src="@(imgUrl)/starquest.webp@(cb)" />
        <img class="betshop" src="@(imgUrl)/betshop.webp@(cb)" />
        <div class="helmets-outer">
            <div class="helmets">
                <a class="helmet helmet-1 option">
                    <img class="img" src="@(imgUrl)/helmet1.webp@(cb)" />
                    <img class="dissolve" src="@(imgUrl)/helmet1dissolve.webp@(cb)" />
                    <div class="press-me"></div>
                </a>
                <a class="helmet helmet-2 option">
                    <img class="img" src="@(imgUrl)/helmet2.webp@(cb)" />
                    <img class="dissolve" src="@(imgUrl)/helmet2dissolve.webp@(cb)" />
                    <div class="press-me"></div>
                </a>
                <a class="helmet helmet-3 option">
                    <img class="img" src="@(imgUrl)/helmet3.webp@(cb)" />
                    <img class="dissolve" src="@(imgUrl)/helmet3dissolve.webp@(cb)" />
                    <div class="press-me"></div>
                </a>
            </div>
        </div>
        <div class="win-scr" id="winContent">
            <div class="bg"></div>
            <div class="title" id="gameResultTitle"></div>
            <img class="img" id="winImg" src="" />
            <div class="text" id="gameResultMessage"></div>
            <div class="button" id="gameResultButton"></div>
            <a class="link" href="" id="winLink" target="_top"></a>
        </div>
    </div>
</div>
<script>
    const play = document.getElementById('play');
    const startravel = document.getElementById('startravel');
    const gameResultTitle = document.getElementById('gameResultTitle');
    const gameResultMessage = document.getElementById('gameResultMessage');
    const gameResultButton = document.getElementById('gameResultButton');
    const winContent = document.getElementById('winContent');
    const winLink = document.getElementById('winLink');
    const winImg = document.getElementById('winImg');

    if (!('ontouchstart' in window) && !(window.DocumentTouch && document instanceof DocumentTouch) && !(navigator.MaxTouchPoints > 0) && !(navigator.msMaxTouchPoints > 0)) {
        play.classList.add('no-touch');
    }

    startravel.addEventListener('loadeddata', () => {
        startravel.play();
        setTimeout(function () {
            play.classList.add('start');
        }, 50);
    }, false);
    window.addEventListener('load', () => {
        setTimeout(function () { play.classList.add('loaded'); }, 2500);
    });

    /* real function deactivated */
    /*const optionClickHandler = async (option) => {
        play.classList.add('fetching');
        option.classList.add('selected');

        try {
            const response = await fetch('@@drawUrl', {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json'
                }
            });

            if (!response.ok) {
                throw new Error(`HTTP error! status: ${response.status}`);
            }

            const answer = await response.json();

            gameResultTitle.innerHTML = answer.title;
            gameResultMessage.innerHTML = answer.text;
            gameResultButton.innerText = answer.button;
            winContent.classList.add(answer.state);
            winLink.href = answer.link;
            winImg.src = answer.game + '?cb=' + Math.floor(Math.random() * 101);
            setTimeout(function () {
                play.classList.add('fetched');
            }, 800);
        } catch (e) {
            console.log(`There was a problem with the fetch operation: ${e.message}`);
            option.classList.remove('selected');
            play.classList.remove('fetching');
        }

    };
    /* demo function */
    const optionClickHandler = async (option) => {
        play.classList.add('fetching');
        option.classList.add('selected');

        setTimeout(function() {
 
            gameResultTitle.innerHTML = 'Congratulations!';
            gameResultMessage.innerHTML = 'You won 10 free spins in';
            gameResultButton.innerText = 'GIGATOONZ';
            winContent.classList.add('win');
            winLink.href = 'http://www.google.com';
            winImg.src = '/img/prizes/starquest/win_gargatoonz.webp' + '?cb=' + Math.floor(Math.random() * 101);
            setTimeout(function () {
                play.classList.add('fetched');
            }, 800);
 
        }, 1500);

    };

    @*// add event listeners *@
        document.querySelectorAll('.option').forEach((option) => {
            option.addEventListener('click', function () {
                optionClickHandler(option);
            });
        });
</script>